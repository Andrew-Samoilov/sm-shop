'use server'
import React from "react";
import { LinkWithGA } from "@/components";
import { getSiteConfig } from "@/lib";


function SMTyreIcon(props: Readonly<React.SVGProps<SVGSVGElement>>) {
  return (
    <svg
      {...props}
      width="97"
      height="37"
      viewBox="0 0 97 37"
      xmlns="http://www.w3.org/2000/svg"
      preserveAspectRatio="xMidYMid meet"
    >
      <g
        display="inline"
        fill="currentColor"
        transform="translate(0 39) 
                matrix(0.1 0 0 -0.1 0 0)"
      >
        <path d="m428,373c20,-4 16,-8 -26,-29c-68,-34 -146,-119 -187,-206c-35,-72 -42,-102 -27,-112c16,-9 30,10 51,67c37,106 104,194 189,248c42,26 40,41 -6,38c-10,-1 -7,-4 6,-6z" />
        <path d="m507,360c-20,-11 -43,-20 -51,-20c-7,0 -20,-8 -27,-17c-8,-9 -9,-14 -4,-11c6,3 30,11 54,18c23,6 40,14 36,18c-3,4 13,12 37,18c31,9 36,12 18,13c-14,1 -42,-8 -63,-19z" />
        <path d="m609,362c-26,-10 -55,-24 -64,-32c-9,-8 -27,-19 -39,-25c-11,-7 -20,-17 -19,-23c2,-6 -6,-14 -17,-17c-11,-4 -25,-15 -31,-27c-10,-19 -8,-20 23,-14c30,5 29,4 -7,-8c-34,-11 -75,-53 -75,-78c0,-4 26,4 57,18c34,15 69,24 86,21c20,-3 32,2 43,17c18,27 18,34 -3,39c-12,3 -8,5 9,6c15,1 35,11 45,25c25,31 123,86 154,85c19,0 17,-3 -14,-14c-86,-32 -160,-107 -208,-212c-30,-65 -36,-93 -19,-93c6,0 10,7 10,15c0,23 44,109 84,164c74,101 196,146 291,107l40,-16l-23,20c-13,11 -40,22 -60,25c-20,3 -45,11 -56,16c-35,20 -157,20 -207,1zm-76,-129c-7,-2 -19,-2 -25,0c-7,3 -2,5 12,5c14,0 19,-2 13,-5z" />
        <path d="m356,355c-8,-8 -20,-15 -26,-15c-6,0 -20,-5 -31,-11c-17,-8 -18,-13 -8,-25c10,-13 16,-11 38,9c14,14 36,28 49,32c12,3 22,11 22,16c0,14 -27,11 -44,-6z" />
        <path d="m270,340c0,-5 7,-7 15,-4c8,4 15,8 15,10c0,2 -7,4 -15,4c-8,0 -15,-4 -15,-10z" />
        <path d="m210,310c-11,-11 -24,-20 -28,-20c-5,0 -17,-9 -27,-20c-16,-18 -16,-20 -1,-26c19,-7 46,12 46,32c0,8 6,14 13,14c8,0 22,9 32,20c16,18 16,20 2,20c-10,0 -26,-9 -37,-20z" />
        <path d="m468,314c-3,-3 -20,-6 -37,-6c-17,-1 -38,-9 -47,-20c-10,-10 -14,-18 -10,-18c17,0 107,33 112,41c6,10 -9,12 -18,3z" />
        <path d="m248,296c-21,-16 -23,-30 -5,-45c11,-8 18,-6 32,9c16,18 17,22 4,35c-12,11 -17,12 -31,1z" />
        <path d="m385,261c-11,-5 -23,-7 -27,-4c-19,11 -132,-207 -115,-223c8,-9 95,53 108,77c16,31 4,34 -37,10c-60,-36 -50,-16 15,28c59,40 77,58 69,67c-3,2 -21,-3 -41,-11c-58,-24 -43,-7 18,21c30,14 57,30 60,35c7,11 -22,11 -50,0z" />
        <path d="m191,236c-10,-18 -10,-29 -2,-45c15,-28 25,-27 40,5c23,51 -12,89 -38,40z" />
        <path d="m101,213c-12,-14 -20,-27 -19,-27c2,-1 10,-7 20,-14c14,-11 19,-8 38,19c19,25 20,33 9,40c-21,13 -26,11 -48,-18z" />
        <path d="m145,169c-15,-28 -15,-32 4,-62l20,-32l15,35c12,30 12,38 0,62c-8,16 -17,28 -19,28c-2,0 -12,-14 -20,-31z" />
        <path d="m55,139c-15,-29 -15,-32 2,-45c25,-19 36,-13 47,25c7,25 6,35 -5,42c-22,14 -27,11 -44,-22z" />
        <path d="m433,141c-60,-29 -83,-53 -83,-86c0,-13 7,-12 43,10c25,14 59,25 80,25c30,0 39,5 52,30c30,58 0,64 -92,21z" />
        <path d="m110,95c-14,-38 -4,-65 25,-65c33,0 36,20 9,59l-23,34l-11,-28z" />
        <path d="m21,58c-7,-20 -5,-24 18,-29c14,-3 29,-4 34,-2c13,7 7,41 -9,47c-26,10 -34,7 -43,-16z" />
        <path d="m405,57l-40,-21l50,-6c53,-7 85,-3 85,10c0,5 3,15 6,24c9,24 -52,20 -101,-7z" />
        <path d="m304,45c-17,-13 -17,-14 -2,-15c9,0 20,5 23,11c11,17 0,20 -21,4z" />
      </g>
    </svg>
  );
}

interface LogoProps {
  text?: string;
  eventCategory?: string;
}

export async function Logo({ text, eventCategory = "header" }: Readonly<LogoProps>) {
  const siteConfig = await getSiteConfig();

  const label = text ?? siteConfig.siteName;

  return (
    <LinkWithGA
      href="/"
      eventLabel="logo"
      eventCategory={eventCategory}
      className="group flex items-center gap-2 focus:outline-hidden pb-4"
      aria-label={`Navigate to ${label}`}
    >
      <SMTyreIcon className="text-accent group-hover:text-accent h-8 w-18" />
      <span className="group-hover:text-accent -mb-3 -ml-6 text-xl font-semibold md:text-2xl">
        {label}
      </span>
    </LinkWithGA>
  );
}
